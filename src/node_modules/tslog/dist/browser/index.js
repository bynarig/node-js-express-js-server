"use strict";var tslog=(()=>{var w=Object.defineProperty;var _=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var V=Object.prototype.hasOwnProperty;var K=(e,t)=>{for(var r in t)w(e,r,{get:t[r],enumerable:!0})},$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of R(t))!V.call(e,i)&&i!==r&&w(e,i,{get:()=>t[i],enumerable:!(n=_(t,i))||n.enumerable});return e};var J=e=>$(w({},"__esModule",{value:!0}),e);var nt={};K(nt,{BaseLogger:()=>b,Logger:()=>M});var h={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]};function d(e,t,r,n=!1){let i=String(t),l=(a,s)=>`\x1B[${s[0]}m${a}\x1B[${s[1]}m`,o=(a,s)=>s!=null&&typeof s=="string"?l(a,h[s]):s!=null&&Array.isArray(s)?s.reduce((g,u)=>o(g,u),a):s!=null&&s[a.trim()]!=null?o(a,s[a.trim()]):s!=null&&s["*"]!=null?o(a,s["*"]):a;return i.replace(/{{(.+?)}}/g,(a,s)=>{let g=r[s]!=null?r[s]:n?"":a;return e.stylePrettyLogs?o(g,e?.prettyLogStyles?.[s])+l("",h.reset):g})}function p(e,t){let r={seen:[],stylize:G};return t!=null&&X(r,t),f(r.showHidden)&&(r.showHidden=!1),f(r.depth)&&(r.depth=2),f(r.colors)&&(r.colors=!0),f(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=H),y(r,e,r.depth)}p.colors=h;p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function v(e){return typeof e=="boolean"}function f(e){return e===void 0}function G(e){return e}function H(e,t){let r=p.styles[t];return r?"\x1B["+p.colors[r][0]+"m"+e+"\x1B["+p.colors[r][1]+"m":e}function j(e){return typeof e=="function"}function A(e){return typeof e=="string"}function Y(e){return typeof e=="number"}function B(e){return e===null}function F(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function k(e){return O(e)&&P(e)==="[object RegExp]"}function O(e){return typeof e=="object"&&e!==null}function S(e){return O(e)&&(P(e)==="[object Error]"||e instanceof Error)}function T(e){return O(e)&&P(e)==="[object Date]"}function P(e){return Object.prototype.toString.call(e)}function Z(e){let t={};return e.forEach(r=>{t[r]=!0}),t}function U(e,t,r,n,i){let l=[];for(let o=0,a=t.length;o<a;++o)F(t,String(o))?l.push(E(e,t,r,n,String(o),!0)):l.push("");return i.forEach(o=>{o.match(/^\d+$/)||l.push(E(e,t,r,n,o,!0))}),l}function I(e){return"["+Error.prototype.toString.call(e)+"]"}function y(e,t,r=0){if(e.customInspect&&t!=null&&j(t)&&t?.inspect!==p&&!(t?.constructor&&t?.constructor.prototype===t)){let u=t?.inspect(r,e);return A(u)||(u=y(e,u,r)),u}let n=q(e,t);if(n)return n;let i=Object.keys(t),l=Z(i);try{e.showHidden&&Object.getOwnPropertyNames&&(i=Object.getOwnPropertyNames(t))}catch{}if(S(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return I(t);if(i.length===0){if(j(t)){let u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(k(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(T(t))return e.stylize(Date.prototype.toString.call(t),"date");if(S(t))return I(t)}let o="",a=!1,s=[`{
`,`
}`];if(Array.isArray(t)&&(a=!0,s=[`[
`,`
]`]),j(t)&&(o=" [Function"+(t.name?": "+t.name:"")+"]"),k(t)&&(o=" "+RegExp.prototype.toString.call(t)),T(t)&&(o=" "+Date.prototype.toUTCString.call(t)),S(t)&&(o=" "+I(t)),i.length===0&&(!a||t.length==0))return s[0]+o+s[1];if(r<0)return k(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);let g;return a?g=U(e,t,r,l,i):g=i.map(u=>E(e,t,r,l,u,a)),e.seen.pop(),Q(g,o,s)}function E(e,t,r,n,i,l){let o,a,s;s={value:void 0};try{s.value=t[i]}catch{}try{Object.getOwnPropertyDescriptor&&(s=Object.getOwnPropertyDescriptor(t,i)||s)}catch{}if(s.get?s.set?a=e.stylize("[Getter/Setter]","special"):a=e.stylize("[Getter]","special"):s.set&&(a=e.stylize("[Setter]","special")),F(n,i)||(o="["+i+"]"),a||(e.seen.indexOf(s.value)<0?(B(r)?a=y(e,s.value,void 0):a=y(e,s.value,r-1),a.indexOf(`
`)>-1&&(l?a=a.split(`
`).map(g=>"  "+g).join(`
`).substr(2):a=`
`+a.split(`
`).map(g=>"   "+g).join(`
`))):a=e.stylize("[Circular]","special")),f(o)){if(l&&i.match(/^\d+$/))return a;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,"\\'").replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function q(e,t){if(f(t))return e.stylize("undefined","undefined");if(A(t)){let r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,"\\'")+"'";return e.stylize(r,"string")}if(Y(t))return e.stylize(""+t,"number");if(v(t))return e.stylize(""+t,"boolean");if(B(t))return e.stylize("null","null")}function Q(e,t,r){return r[0]+(t===""?"":t+`
`)+"  "+e.join(`,
  `)+" "+r[1]}function X(e,t){if(!t||!O(t))return e;let r=Object.keys(t),n=r.length;for(;n--;)e[r[n]]=t[r[n]];return e}var tt={runtime:"Browser",browser:window?.navigator.userAgent};function C(e,t,r,n){return{...tt,name:n,date:new Date,logLevelId:e,logLevelName:t,path:et(r)}}function et(e){try{throw new Error("getStackTrace")}catch(t){let r=window.location.origin,n=t;if(n?.stack){let i=n?.stack?.split(`
`)?.filter(W=>!W.includes("Error: "))?.[e]?.replace(/^\s+at\s+/gm,"");i?.slice(-1)===")"&&(i=i?.match(/\(([^)]+)\)/)?.[1]);let l=i?.includes(":")?i?.replace("global code@","")?.replace("file://","")?.replace(r,"")?.replace(/^\s+at\s+/gm,"")?.split(":"):void 0,o=l?.pop(),a=l?.pop(),s=l?.pop()?.split("?")?.[0],g=s?.split("/").pop(),u=`${r}${s}:${a}`,c=i?.split(" (");return{fullFilePath:i,fileName:g,fileColumn:o,fileLine:a,filePath:s,filePathWithLine:u,method:c?.[0]}}return{fullFilePath:void 0,fileName:void 0,fileColumn:void 0,fileLine:void 0,filePath:void 0,filePathWithLine:void 0,method:void 0}}}function N(e){let t=window.location.origin;return e?.stack?.split(`
`)?.filter(r=>!r.includes("Error: "))?.reduce((r,n)=>{n?.slice(-1)===")"&&(n=n.match(/\(([^)]+)\)/)?.[1]??""),n=n.replace(/^\s+at\s+/gm,"");let i=n.split(" ("),l=n?.slice(-1)===")"?n?.match(/\(([^)]+)\)/)?.[1]:n,o=l?.includes(":")?l?.replace("global code@","")?.replace("file://","")?.replace(t,"")?.replace(/^\s+at\s+/gm,"")?.split(":"):void 0,a=o?.pop(),s=o?.pop(),g=o?.pop()?.split("?")[0],u=g?.split("/")?.pop()?.split("?")[0],c=`${t}${g}:${s}`;return g!=null&&g.length>0&&r.push({fullFilePath:l,fileName:u,fileColumn:a,fileLine:s,filePath:g,filePathWithLine:c,method:i?.[1]!=null?i?.[0]:void 0}),r},[])}function L(e){return e instanceof Error}function x(e,t,r){return[e,...t].reduce((n,i)=>(L(i)?n.errors.push(rt(i,r)):n.args.push(i),n),{args:[],errors:[]})}function rt(e,t){let r=N(e).map(i=>d(t,t.prettyErrorStackTemplate,{...i},!0)),n={errorName:` ${e.name} `,errorMessage:e.message,errorStack:r.join(`
`)};return d(t,t.prettyErrorTemplate,n)}function D(e,t,r,n){let i=(r.length>0&&t.length>0?`
`:"")+r.join(`
`);n.prettyInspectOptions.colors=n.stylePrettyLogs,t=t.map(l=>typeof l=="object"?p(l,n.prettyInspectOptions):l),console.log(e+t.join(" ")+i)}function z(e){console.log(JSON.stringify(e,null,2))}function m(e,t=2,r=0){return e!=null&&isNaN(e)?"":(e=e!=null?e+r:e,t===2?e==null?"--":e<10?"0"+e:e.toString():e==null?"---":e<10?"00"+e:e<100?"0"+e:e.toString())}var b=class{constructor(t,r,n=4){this.logObj=r;this.stackDepthLevel=n;let i=![typeof window,typeof document].includes("undefined"),l=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";this.runtime=i?"browser":l?"nodejs":"unknown";let o=i?((window?.chrome||window.Intl&&Intl?.v8BreakIterator)&&"CSS"in window)!=null:!1,a=i?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1;this.stackDepthLevel=a?4:this.stackDepthLevel,this.settings={type:t?.type??"pretty",name:t?.name,parentNames:t?.parentNames,minLevel:t?.minLevel??0,argumentsArrayName:t?.argumentsArrayName,prettyLogTemplate:t?.prettyLogTemplate??"{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}	{{logLevelName}}	[{{filePathWithLine}}{{nameWithDelimiterPrefix}}]	",prettyErrorTemplate:t?.prettyErrorTemplate??`
{{errorName}} {{errorMessage}}
error stack:
{{errorStack}}`,prettyErrorStackTemplate:t?.prettyErrorTemplate??`  \u2022 {{fileName}}	{{method}}
	{{filePathWithLine}}`,prettyErrorParentNamesSeparator:t?.prettyErrorParentNamesSeparator??":",prettyErrorLoggerNameDelimiter:t?.prettyErrorLoggerNameDelimiter??"	",stylePrettyLogs:t?.stylePrettyLogs??!0,prettyLogStyles:t?.prettyLogStyles??{logLevelName:{"*":["bold","black","bgWhiteBright","dim"],SILLY:["bold","white"],TRACE:["bold","whiteBright"],DEBUG:["bold","green"],INFO:["bold","blue"],WARN:["bold","yellow"],ERROR:["bold","red"],FATAL:["bold","redBright"]},dateIsoStr:"white",filePathWithLine:"white",name:["white","bold"],nameWithDelimiterPrefix:["white","bold"],nameWithDelimiterSuffix:["white","bold"],errorName:["bold","bgRedBright","whiteBright"],fileName:["yellow"]},prettyInspectOptions:t?.prettyInspectOptions??{colors:!0,compact:!1,depth:1/0},metaProperty:t?.metaProperty??"_meta",maskPlaceholder:t?.maskPlaceholder??"[***]",maskValuesOfKeys:t?.maskValuesOfKeys??["password"],maskValuesOfKeysCaseInsensitive:t?.maskValuesOfKeysCaseInsensitive??!1,maskValuesRegEx:t?.maskValuesRegEx,prefix:[...t?.prefix??[]],attachedTransports:[...t?.attachedTransports??[]],overwrite:{mask:t?.overwrite?.mask,toLogObj:t?.overwrite?.toLogObj,addMeta:t?.overwrite?.addMeta,formatMeta:t?.overwrite?.formatMeta,formatLogObj:t?.overwrite?.formatLogObj,transportFormatted:t?.overwrite?.transportFormatted,transportJSON:t?.overwrite?.transportJSON}},this.settings.stylePrettyLogs=this.settings.stylePrettyLogs&&i&&!o?!1:this.settings.stylePrettyLogs}log(t,r,...n){if(t<this.settings.minLevel)return;let i=[...this.settings.prefix,...n],l=this.settings.overwrite?.mask!=null?this.settings.overwrite?.mask(i):this.settings.maskValuesOfKeys!=null&&this.settings.maskValuesOfKeys.length>0?this._mask(i):i,o=this.logObj!=null?this._recursiveCloneAndExecuteFunctions(this.logObj):void 0,a=this.settings.overwrite?.toLogObj!=null?this.settings.overwrite?.toLogObj(l,o):this._toLogObj(l,o),s=this.settings.overwrite?.addMeta!=null?this.settings.overwrite?.addMeta(a,t,r):this._addMetaToLogObj(a,t,r),g,u;return this.settings.overwrite?.formatMeta!=null&&(g=this.settings.overwrite?.formatMeta(s?.[this.settings.metaProperty])),this.settings.overwrite?.formatLogObj!=null&&(u=this.settings.overwrite?.formatLogObj(l,this.settings)),this.settings.type==="pretty"&&(g=this._prettyFormatLogObjMeta(s?.[this.settings.metaProperty]),u=x(o,l,this.settings)),g!=null&&u!=null?this.settings.overwrite?.transportFormatted!=null?this.settings.overwrite?.transportFormatted(g,u.args,u.errors,this.settings):D(g,u.args,u.errors,this.settings):this.settings.overwrite?.transportJSON!=null?this.settings.overwrite?.transportJSON(s):this.settings.type!=="hidden"&&z(s),this.settings.attachedTransports!=null&&this.settings.attachedTransports.length>0&&this.settings.attachedTransports.forEach(c=>{c(s)}),s}attachTransport(t){this.settings.attachedTransports.push(t)}getSubLogger(t,r){let n={...this.settings,...t,parentNames:this.settings?.parentNames!=null&&this.settings?.name!=null?[...this.settings.parentNames,this.settings.name]:this.settings?.name!=null?[this.settings.name]:void 0,prefix:[...this.settings.prefix,...t?.prefix??[]]};return new this.constructor(n,r??this.logObj,this.stackDepthLevel)}_mask(t){let r=this.settings.maskValuesOfKeysCaseInsensitive!==!0?this.settings.maskValuesOfKeys:this.settings.maskValuesOfKeys.map(n=>n.toLowerCase());return t?.map(n=>this._recursiveCloneAndMaskValuesOfKeys(n,r))}_recursiveCloneAndMaskValuesOfKeys(t,r,n=[]){return n.includes(t)?{...t}:(n.push(t),L(t)||void 0?t:Array.isArray(t)?t.map(i=>this._recursiveCloneAndMaskValuesOfKeys(i,r,n)):t instanceof Date?new Date(t.getTime()):t&&typeof t=="object"?Object.getOwnPropertyNames(t).reduce((i,l)=>(Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(t,l)),i[l]=r.includes(this.settings?.maskValuesOfKeysCaseInsensitive!==!0?l:l.toLowerCase())?this.settings.maskPlaceholder:this._recursiveCloneAndMaskValuesOfKeys(t[l],r,n),i),Object.create(Object.getPrototypeOf(t))):(i=>(this.settings?.maskValuesRegEx?.forEach(l=>{i=i.replace(l,this.settings.maskPlaceholder)}),i))(t))}_recursiveCloneAndExecuteFunctions(t,r=[]){return r.includes(t)?{...t}:(r.push(t),Array.isArray(t)?t.map(n=>this._recursiveCloneAndExecuteFunctions(n,r)):t instanceof Date?new Date(t.getTime()):t&&typeof t=="object"?Object.getOwnPropertyNames(t).reduce((n,i)=>(Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i)),n[i]=typeof t[i]=="function"?t[i]():this._recursiveCloneAndExecuteFunctions(t[i],r),n),Object.create(Object.getPrototypeOf(t))):t)}_toLogObj(t,r={}){return t=t?.map(n=>L(n)?this._toErrorObject(n):n),this.settings.argumentsArrayName==null?t.length===1&&!Array.isArray(t[0])&&(t[0],void 0)!==!0&&!(t[0]instanceof Date)?r=typeof t[0]=="object"?{...t[0],...r}:{0:t[0],...r}:r={...r,...t}:r={...r,[this.settings.argumentsArrayName]:t},r}_toErrorObject(t){return{nativeError:t,name:t.name??"Error",message:t.message,stack:N(t)}}_addMetaToLogObj(t,r,n){return{...t,[this.settings.metaProperty]:C(r,n,this.stackDepthLevel,this.settings.name,this.settings.parentNames)}}_prettyFormatLogObjMeta(t){if(t==null)return"";let r=this.settings.prettyLogTemplate,n={};r.includes("{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}")?r=r.replace("{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}","{{dateIsoStr}}"):(n.yyyy=t?.date?.getFullYear()??"----",n.mm=m(t?.date?.getMonth(),2,1),n.dd=m(t?.date?.getDate(),2,1),n.hh=m(t?.date?.getHours(),2),n.MM=m(t?.date?.getMinutes(),2),n.ss=m(t?.date?.getSeconds(),2),n.ms=m(t?.date?.getMilliseconds(),3)),n.rawIsoStr=t?.date?.toISOString(),n.dateIsoStr=t?.date?.toISOString().replace("T"," ").replace("Z",""),n.logLevelName=t?.logLevelName,n.filePathWithLine=t?.path?.filePathWithLine,n.fullFilePath=t?.path?.fullFilePath;let i=this.settings.parentNames?.join(this.settings.prettyErrorParentNamesSeparator);return i=i!=null&&t?.name!=null?i+this.settings.prettyErrorParentNamesSeparator:void 0,n.name=t?.name!=null||i!=null?(i??"")+t?.name:"",n.nameWithDelimiterPrefix=n.name.length>0?this.settings.prettyErrorLoggerNameDelimiter+n.name:"",n.nameWithDelimiterSuffix=n.name.length>0?n.name+this.settings.prettyErrorLoggerNameDelimiter:"",d(this.settings,r,n)}};var M=class extends b{constructor(t,r){super(t,r,5)}log(t,r,...n){return super.log(t,r,...n)}silly(...t){return super.log(0,"SILLY",...t)}trace(...t){return super.log(1,"TRACE",...t)}debug(...t){return super.log(2,"DEBUG",...t)}info(...t){return super.log(3,"INFO",...t)}warn(...t){return super.log(4,"WARN",...t)}error(...t){return super.log(5,"ERROR",...t)}fatal(...t){return super.log(6,"FATAL",...t)}getSubLogger(t,r){return super.getSubLogger(t,r)}};return J(nt);})();
